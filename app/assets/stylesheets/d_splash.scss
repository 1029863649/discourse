html {
  background: var(--secondary);
  // needed because this sheet loads early and we want no scroll bars until
  // the splash is removed.
  overflow: hidden !important;
}

#d-splash {
  display: grid;
  place-items: center;
  position: relative;
  backface-visibility: hidden;
  will-change: transform;

  .preloader-image {
    max-width: 100%;
    height: 100vh;
  }

  .preloader-text {
    padding-top: 4em;
    position: absolute;
    display: grid;
    grid-auto-flow: column;
    place-items: center;
    opacity: 0;
    animation: fade-in 0.5s ease-in-out;
    animation-delay: 2.5s;
    animation-fill-mode: forwards;

    &:after {
      animation: loading-text 3s infinite;
      content: "";
      position: absolute;
      top: 4em;
      margin: 0 0.1em;
      left: 100%;
      // TODO: this needs R2 RTL magic
      .rtl & {
        left: 0;
        right: 100%;
      }
    }
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes loading-text {
  0% {
    content: "";
  }

  25% {
    content: ".";
  }

  50% {
    content: "..";
  }

  75% {
    content: "...";
  }
}
