<div class="row pref-passkeys">
  <div class="control-group">
    <label class="control-label">
      {{i18n "user.passkeys.title"}}
    </label>
    {{#each @model.user_passkeys as |passkey|}}
      <div class="row">
        <div class="passkey-left">
          <div><b>{{passkey.name}}</b></div>
          <div class="row-passkey__created-date">
            <span class="prefix">
              {{i18n "user.passkeys.added_prefix"}}
            </span>
            {{format-date passkey.created_at format="medium" leaveAgo="true"}}
          </div>
          <div class="row-passkey__used-date">
            {{#if passkey.last_used}}
              <span class="prefix">
                {{i18n "user.passkeys.last_used_prefix"}}
              </span>
              {{format-date passkey.last_used format="medium" leaveAgo="true"}}
            {{else}}
              {{i18n "user.passkeys.never_used"}}
            {{/if}}
          </div>
        </div>
        {{#if (eq this.currentUser.id @model.id)}}
          <div class="passkey-right">
            <div class="actions">
              <UserPreferences::PasskeyOptionsDropdown
                @passkeyId={{passkey.id}}
                @deletePasskey={{action "deletePasskey" passkey.id}}
                @renamePasskey={{action
                  "renamePasskey"
                  passkey.id
                  passkey.name
                }}
              />
            </div>
          </div>
        {{/if}}
      </div>
    {{/each}}
  </div>

  {{this.passkeyName}}

  {{#if (eq this.currentUser.id @model.id)}}
    <DButton
      @action={{action "addPasskey"}}
      @icon="plus"
      @label="user.passkeys.add_passkey"
    />
  {{/if}}
</div>