<DModal
  @closeModal={{@closeModal}}
  @flash={{this.flash}}
  @flashType="error"
  class="forgot-password-modal"
>
  <form>
    <:body>
      {{#if this.offerHelp}}
        {{html-safe this.offerHelp}}
      {{else if this.siteSettings.hide_email_address_taken}}
        <label for="username-or-email">
          {{i18n "forgot_password.invite_no_username"}}
        </label>
        <TextField
          @value={{this.emailOrUsername}}
          @placeholderKey="email"
          @id="username-or-email"
          @autocorrect="off"
          @autocapitalize="off"
        />
      {{else}}
        <label for="username-or-email">
          {{i18n "forgot_password.invite"}}
        </label>
        <TextField
          @value={{this.emailOrUsername}}
          @placeholderKey="login.email_placeholder"
          @id="username-or-email"
          @autocorrect="off"
          @autocapitalize="off"
        />
      {{/if}}
    </:body>

    <:footer>
      {{#if this.offerHelp}}
        <DButton
          @action={{this.ok}}
          @label="forgot_password.button_ok"
          @type="submit"
          class="btn-large btn-primary"
        />
        {{#unless this.helpSeen}}
          <DButton
            @action={{this.help}}
            @label="forgot_password.button_help"
            @icon="question-circle"
            class="btn-large"
          />
        {{/unless}}
      {{else}}
        <DButton
          @action={{this.resetPassword}}
          @label="forgot_password.reset"
          @type="submit"
          @disabled={{this.submitDisabled}}
          class="btn-primary forgot-password-reset"
        />
      {{/if}}
    </:footer>
  </form>
</DModal>