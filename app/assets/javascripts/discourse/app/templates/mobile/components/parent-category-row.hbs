{{#unless this.isHidden}}
  <PluginOutlet @name="category-list-above-each-category" @args={{hash category=this.category}} />
  <div data-category-id={{this.category.id}} data-notification-level={{this.category.notificationLevelString}} style={{border-color this.category.color}} class="category-list-item category {{if this.isMuted "muted"}}">
    <table class="topic-list">
      <tbody>
        <tr>
          <th class="main-link" colspan="2">
            <CategoryTitleLink @category={{this.category}} />
            {{#if this.category.isGrandParent}}
              {{#each this.category.subcategories as |subcategory|}}
                <SubCategoryRow @category={{subcategory}} @listType={{this.listType}} />
              {{/each}}
            {{else if this.category.subcategories}}
              <tr class="subcategories-list">
                <td>
                  <div class="subcategories">
                    {{#each this.category.subcategories as |subcategory|}}
                      <SubCategoryItem @category={{subcategory}} @listType={{this.listType}} />
                    {{/each}}
                  </div>
                </td>
              </tr>
            {{/if}}
          </th>
        </tr>
        {{#if this.category.description_excerpt}}
          <tr class="category-description">
            <td colspan="3">
              {{html-safe this.category.description_excerpt}}
            </td>
          </tr>
        {{/if}}
        {{#unless this.isMuted}}
          {{#if this.showTopics}}
            {{#each this.category.topics as |t|}}
              <MobileCategoryTopic @topic={{t}} />
            {{/each}}
          {{/if}}
        {{/unless}}
      </tbody>
    </table>
  </div>
{{/unless}}
